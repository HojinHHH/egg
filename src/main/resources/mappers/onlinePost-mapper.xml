<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="onlinePostMapper">
    <select id="getParentCategory" resultType="String">
         SELECT DISTINCT PARENT_GROUP FROM TBL_CATEGORY
    </select>
    
    <select id="getChildCategory" resultType="CategoryDTO">
         SELECT * FROM TBL_CATEGORY WHERE PARENT_GROUP = #{bigCategory}
    </select>
    
    <!-- <select id="searchProduct" resultType="ProductDTO">
         select from tbl_product where name like '%'||#{value}||'%' or content like '%'||#{value}||'%'
    </select> -->
    
    <select id="searchProduct" resultType="ProductDTO">
         select * from tbl_product where name like '%'|| #{value} ||'%'
    </select>
    
    <insert id="insertFile" parameterType="Map">
         INSERT INTO TBL_IMAGE VALUES(IMAGE_NO.NEXTVAL, #{ori_name}, #{sys_name},3)
    </insert>
    
    <insert id="insertPost" parameterType="PostDTO">
         INSERT INTO TBL_POST VALUES(POST_NO.NEXTVAL,1,'나중에 넣어주기',#{user_nickname},#{category_no},#{title},#{content},#{product_no},0,SYSDATE,'0')
    </insert>
</mapper>